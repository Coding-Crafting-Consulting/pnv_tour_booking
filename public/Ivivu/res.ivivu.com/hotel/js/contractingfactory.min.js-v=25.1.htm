var gatePoint = "https://gate.ivivu.com/"; var endpoitHost = 'https://pay.ivivu.com/'
Number.prototype.formatMoney = function (c, d, t) { var n = this, c = isNaN(c = Math.abs(c)) ? 2 : c, d = d == undefined ? "." : d, t = t == undefined ? "," : t, s = n < 0 ? "-" : "", i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + "", j = (j = i.length) > 3 ? j % 3 : 0; return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "") }; String.prototype.format = String.prototype.f = function () {
	var s = this, i = arguments.length; while (i--) { s = s.replace(new RegExp('\\{' + i + '\\}', 'gm'), arguments[i]) }
	return s
}; angular.module('Contracting', ['ngRoute']); angular.module('Contracting').factory('ListRoomPrice', ['$http', function ($http) {
	return {
		getHotelRoomPrice: function (search) {
			var url = endpoitHost + "api/contracting/HotelSearchReqContractApp"; var req = { method: 'POST', async: !1, crossDomain: !0, headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, url: url, data: $.param(search) }
			return $http(req)
		}, getComboDetails: function (obj) { return $http.get('/combodetaillist?comboId={0}'.format(obj.comboId)) }, getMinpirceCalendar: function (comboId, fromPlace) { return $http.get(gatePoint + '/get-min-price-calendar' + '?comboId=' + comboId + '&fromPlace=' + fromPlace) }
	}
}]).factory('ListHotelPromotionPrice', ['$http', function ($http) {
	return {
		getHotelsSearchPrice: function (search) {
			var url = endpoitHost + "api/contracting/HotelsSearchPrice"; var req = { method: 'POST', async: !0, crossDomain: !0, headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, url: url, data: $.param(search) }
			return $http(req)
		}, getHotelsSearchPriceAjax: function (search) {
			var url = endpoitHost + "api/contracting/HotelsSearchPriceAjax"; var req = { method: 'POST', async: !0, crossDomain: !0, headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, url: url, data: $.param(search) }
			return $http(req)
		}, getHotelsSearchBudgetPriceByRegion: function (search) {
			var url = endpoitHost + "api/contracting/HotelsSearchBudgetPriceByRegion"; var req = { method: 'POST', async: !0, crossDomain: !0, headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, url: url, data: $.param(search) }
			return $http(req)
		}, hotelsLoadMore: function (obj) {
			if (obj == null)
				return !1; var buildQuery = ''; buildQuery += obj.filterLocation != undefined && obj.filterLocation.length > 0 ? "&location={0}".format(obj.filterLocation.map(function (elem) { return elem.ID }).join(",")) : ""; buildQuery += obj.filterFac != undefined && obj.filterFac.length > 0 ? "&facsearch={0}".format(obj.filterFac.map(function (elem) { return elem.ID }).join(",")) : ""; buildQuery += obj.filterTags != undefined && obj.filterTags.length > 0 ? "&tagIds={0}".format(obj.filterTags.map(function (elem) { return elem.ID }).join(",")) : ""; buildQuery += obj.filterHotelClass != undefined && obj.filterHotelClass.length > 0 ? "&classIds={0}".format(obj.filterHotelClass.map(function (elem) { return elem.ID }).join(",")) : ""; if (obj.filterBudget != undefined && obj.filterBudget.length) { var minprice = obj.filterBudget.map(function (elem) { return elem.MinPrice }).sort(function (a, b) { return a - b })[0]; var maxprice = obj.filterBudget.map(function (elem) { return elem.MaxPrice }).sort(function (a, b) { return b - a })[0]; buildQuery += "&minprice={0}&maxprice={1}".format(minprice, maxprice); buildQuery += "&budgetClass={0}".format(obj.filterBudget.map(function (elem) { return elem.ID }).join(",")) }
			buildQuery += obj.keyword != undefined && obj.keyword != '' ? "&keysearch={0}".format(obj.keyword) : ""; return $http.get('/hotelslist?regionId={0}&page={1}&pageSize={2}{3}'.format(obj.regionId, obj.page, obj.pageSize, buildQuery))
		}, getHotelsSearchPriceAll: function (search) {
			var url = endpoitHost + "api/contracting/HotelsSearchPriceAll"; var req = { method: 'POST', async: !0, crossDomain: !0, headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, url: url, data: $.param(search) }
			return $http(req)
		}, getCheckAvailablePrice: function (search) {
			var url = endpoitHost + "api/contracting/CheckAvailablePrice"; var req = { method: 'POST', async: !0, crossDomain: !0, headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, url: url, data: $.param(search) }
			return $http(req)
		}
	}
}]).factory('ListHotelHolidayPrice', ['$http', function ($http) {
	return {
		getHotelHolidayPrice: function (search) {
			var url = endpoitHost + "api/contracting/HotelsSearchPriceHoliday"; var req = { method: 'POST', async: !0, crossDomain: !0, headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, url: url, data: $.param(search) }
			return $http(req)
		}
	}
}]).directive('ngScroll', function ($window, $document) { return { restrict: 'A', link: function (scope, element, attrs) { } } })